{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/dickymr/Documents/Portofolio/simple-news-website/context/context.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component, createContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\nvar Provider = createContext().Provider;\n\nvar GlobalProvider = function GlobalProvider(Children) {\n  var _temp;\n\n  return _temp =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(ParentComp, _Component);\n\n    function ParentComp() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, ParentComp);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ParentComp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        category: false,\n        news: false\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"dispatch\", function (action) {\n        switch (action.type) {\n          case CHANGE_CATEGORY:\n            return _this.setState({\n              category: action.data\n            });\n            break;\n\n          default:\n            break;\n        }\n      });\n\n      return _this;\n    }\n\n    _createClass(ParentComp, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.setState({\n          news: getNews()\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return __jsx(Provider, {\n          value: {\n            state: this.setState,\n            dispatch: this.dispatch\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, __jsx(Children, _extends({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        })));\n      }\n    }]);\n\n    return ParentComp;\n  }(Component), _temp;\n};\n\nvar getNews = function getNews() {\n  var res, data;\n  return _regeneratorRuntime.async(function getNews$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('https://newsapi.org/v2/top-headlines?country=id&category=sports&apiKey=fe10d3dbecfe418baeb787b670337a86'));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          return _context.abrupt(\"return\", {\n            news: data.articles.map(function (item) {\n              return item;\n            })\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default GlobalProvider;","map":{"version":3,"sources":["/home/dickymr/Documents/Portofolio/simple-news-website/context/context.js"],"names":["Component","createContext","fetch","Provider","GlobalProvider","Children","category","news","action","type","CHANGE_CATEGORY","setState","data","getNews","state","dispatch","props","res","json","articles","map","item"],"mappings":";;;;;;;;;;;;AAAA,SAASA,SAAT,EAAoBC,aAApB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,IAAMC,QAAQ,GAAGF,aAAa,GAAGE,QAAjC;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,QAAQ,EAAI;AAAA;;AACjC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,8DACU;AACNC,QAAAA,QAAQ,EAAE,KADJ;AAENC,QAAAA,IAAI,EAAE;AAFA,OADV;;AAAA,iEAMa,UAAAC,MAAM,EAAI;AACnB,gBAAQA,MAAM,CAACC,IAAf;AACE,eAAKC,eAAL;AACE,mBAAO,MAAKC,QAAL,CAAc;AACnBL,cAAAA,QAAQ,EAAEE,MAAM,CAACI;AADE,aAAd,CAAP;AAGA;;AACF;AACE;AAPJ;AASD,OAhBH;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAkBsB;AAClB,aAAKD,QAAL,CAAc;AACZJ,UAAAA,IAAI,EAAEM,OAAO;AADD,SAAd;AAGD;AAtBH;AAAA;AAAA,+BAwBW;AACP,eACE,MAAC,QAAD;AAAU,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,KAAKH,QAAd;AAAwBI,YAAAA,QAAQ,EAAE,KAAKA;AAAvC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,QAAD,eAAc,KAAKC,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,CADF;AAKD;AA9BH;;AAAA;AAAA,IAAgChB,SAAhC;AAgCD,CAjCD;;AAmCA,IAAMa,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACIX,KAAK,CACrB,yGADqB,CADT;;AAAA;AACRe,UAAAA,GADQ;AAAA;AAAA,2CAIKA,GAAG,CAACC,IAAJ,EAJL;;AAAA;AAIRN,UAAAA,IAJQ;AAAA,2CAMP;AACLL,YAAAA,IAAI,EAAEK,IAAI,CAACO,QAAL,CAAcC,GAAd,CAAkB,UAAAC,IAAI;AAAA,qBAAIA,IAAJ;AAAA,aAAtB;AADD,WANO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;AAWA,eAAejB,cAAf","sourcesContent":["import { Component, createContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nconst Provider = createContext().Provider;\n\nconst GlobalProvider = Children => {\n  return class ParentComp extends Component {\n    state = {\n      category: false,\n      news: false\n    };\n\n    dispatch = action => {\n      switch (action.type) {\n        case CHANGE_CATEGORY:\n          return this.setState({\n            category: action.data\n          });\n          break;\n        default:\n          break;\n      }\n    };\n\n    componentDidMount() {\n      this.setState({\n        news: getNews()\n      });\n    }\n\n    render() {\n      return (\n        <Provider value={{ state: this.setState, dispatch: this.dispatch }}>\n          <Children {...this.props} />\n        </Provider>\n      );\n    }\n  };\n};\n\nconst getNews = async () => {\n  const res = await fetch(\n    'https://newsapi.org/v2/top-headlines?country=id&category=sports&apiKey=fe10d3dbecfe418baeb787b670337a86'\n  );\n  const data = await res.json();\n\n  return {\n    news: data.articles.map(item => item)\n  };\n};\n\nexport default GlobalProvider;\n"]},"metadata":{},"sourceType":"module"}